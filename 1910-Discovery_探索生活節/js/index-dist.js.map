{"version":3,"sources":["..\\src\\js\\index.js"],"names":["url","location","search","$body","window","opera","document","compatMode","$","options","infinite","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","dots","arrows","responsive","breakpoint","settings","includesLoader","callback","mainFunc","includesList","target","fileName","click","removeNav","indexOf","webAnchor","split","setTimeout","scrollto","stop","animate","scrollTop","on","someWhere","data","addEventListener","_scroll","vid","removeClass","addClass","attr","scroll","each","imgNum","find","length","slick","$thisH","height","width","css","children","hide","$this","parent","toggleClass","hasClass","winTop","menuNum","siblings","eq","mCustomScrollbar","scrollInertia","$header","$hamburger","$headerNav","e","PAGE_HEADER_ACTIVE","evt","aid","offset","top","preventDefault","href","device","desktop","magnify","windowEvents","transitionThenRemove","dom","duration","DURATION","SLOW","console","log","logSafeStyle","anchor","$win","_resize","resize","getSize","winW","resizePC","resizeMB","outerWidth","winH","outerHeight","headerTopH","headerNavH","footerH","headerInit","marginTop","off","slider","querySelector","isDown","startX","scrollLeft","classList","add","pageX","offsetLeft","remove","x","walk","sponsorMB","display","listenImagesLoading","isFirstTime","sectionPos","footerPos","headerTotalH","nowPos"],"mappings":"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","sourcesContent":["// var $win = $(window);\r\n// var winW = $win.width();\r\n// var winH = $win.height();\r\n// var pos = $(window).scrollTop();\r\n\r\nvar url = location.search;\r\nvar $body = (window.opera) ? (document.compatMode == \"CSS1Compat\" ? $('html') : $('body')) : $('html,body');\r\nvar options = {\r\n    infinite: true,\r\n    slidesToShow: 6,\r\n    slidesToScroll: 1,\r\n    autoplay: true,\r\n    autoplaySpeed: 4000,\r\n    \r\n    dots: true,\r\n    arrows: false,\r\n    responsive: [\r\n      {\r\n        breakpoint: 1360,\r\n        settings: {\r\n          slidesToShow: 5,\r\n          slidesToScroll: 5,\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 900,\r\n        settings: {\r\n          slidesToShow: 3,\r\n          slidesToScroll: 3,\r\n        }\r\n      }\r\n    ]\r\n}\r\n\r\nincludesLoader({\r\n    callback: mainFunc,\r\n    includesList: [{\r\n        target: \".page-header\",\r\n        fileName: \"header\"\r\n    }, {\r\n        target: \".page-footer\",\r\n        fileName: \"footer\"\r\n    }]\r\n});\r\n\r\n$(function () {\r\n    $(\".header-nav li\").click(function () {\r\n        removeNav();\r\n    });\r\n\r\n    if(url.indexOf(\"?\") != -1){\r\n        var webAnchor = url.split(\"?\")[1];\r\n        setTimeout(function() {\r\n            scrollto(webAnchor)\r\n        }, 250);\r\n    }\r\n\r\n    $('#goTop').click(function () {\r\n        $('html,body').stop().animate({\r\n            scrollTop: 0\r\n        }, 'slow');\r\n        return false;\r\n    });\r\n\r\n    // 滾到錨點\r\n    $('._scrollto').on('click', function(){\r\n        var someWhere = $(this).data(\"scrollto\");\r\n        scrollto(someWhere);\r\n    })\r\n\r\n    document.addEventListener(\"scroll\", _scroll);\r\n\r\n    $('.playlist .switchVideo').on('click', function(){\r\n        var vid = $(this).data('vid');\r\n        $('.playlist .switchVideo').removeClass('active');\r\n        $(this).addClass('active');\r\n        $('#mainIframe').attr(\"src\",\"https://www.youtube.com/embed/\"+vid+\"?rel=0&autoplay=1\");\r\n    });\r\n\r\n\r\n    // 首頁時刻表被拖動時-提示消失\r\n    $(\".indexTimetableSection ._scrollx\").scroll(function () {\r\n        $('.guidanceIcon').addClass(\"_draged\");\r\n    })\r\n\r\n\r\n    // 主題活動-slick\r\n    $('.actSlick').each(function(){\r\n        var imgNum = $(this).find('img').length;\r\n        if(imgNum > 1){\r\n            $(this).slick({\r\n                infinite: true,\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1,\r\n                autoplay: true,\r\n                autoplaySpeed: 4000,\r\n                \r\n                dots: true,\r\n                arrows: false\r\n            });\r\n        }\r\n    })\r\n\r\n\r\n    // 四大主題\r\n    if( $('.theme-page').length > 0 ){\r\n\r\n\r\n        // 文字收放\r\n        $('.theme-page .themeIntroSection .txt').each(function() {\r\n            var $thisH = $(this).height() + 48;\r\n            $(this).attr('data-txth', $thisH );\r\n        })\r\n\r\n        if( $(window).width() > 768 ){\r\n            $('.theme-page .themeIntroSection .txt').css(\"height\",\"20rem\").addClass('_closed');\r\n        }else{\r\n            $('.theme-page .themeIntroSection .txt').css(\"height\",\"15rem\").addClass('_closed');\r\n        }\r\n        \r\n        $('.theme-page .themeIntroSection .txt').each(function() {\r\n            var $thisH = $(this).height() + 48;\r\n            $(this).attr('data-txtcloseh', $thisH );\r\n\r\n            if( $(this).data(\"txth\") == $(this).data(\"txtcloseh\") ){\r\n                $(this).children(\".btnMore\").hide();\r\n            }\r\n        })\r\n        \r\n        \r\n        $('.theme-page .themeIntroSection .btnMore').on('click', function(){\r\n            var $this = $(this).parent(\".txt\");\r\n            if( $this.data(\"txth\") != $this.data(\"txtcloseh\") ){\r\n                $(this).toggleClass('_active');\r\n                if($(this).parent(\".txt\").hasClass('_closed')){\r\n                    \r\n                    $this.stop().animate({\r\n                        height: $this.data(\"txth\")\r\n                    },100).removeClass('_closed');\r\n        \r\n                }else{\r\n                    \r\n                    $this.stop().animate({\r\n                        height: $this.data(\"txtcloseh\")\r\n                    },100).addClass('_closed');\r\n            \r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n});\r\n\r\nfunction _scroll() {\r\n    var winTop = $(window).scrollTop();\r\n    if (winTop >= 500) {\r\n        $('#goTop').css('opacity', '1');\r\n    } else {\r\n        $('#goTop').css('opacity', '0');\r\n    }\r\n}\r\n\r\nfunction mainFunc() {\r\n    var menuNum = $('body').data('menu');\r\n\r\n    $(\".header-nav li\").siblings().removeClass('active');\r\n    $(\".header-nav li\").eq(menuNum).addClass('active');\r\n\r\n    $('.playlistWrap').mCustomScrollbar({\r\n        scrollInertia: 500,\r\n    });\r\n\r\n    $header = $(\".page-header\"), $hamburger = $(\".hamburger\"), $headerNav = $(\".header-nav\")\r\n    $hamburger.on(\"click\", function (e) {\r\n        // e.preventDefault(), e.stopPropagation()\r\n        $header.toggleClass(PAGE_HEADER_ACTIVE)\r\n        $header.hasClass(PAGE_HEADER_ACTIVE) ? $headerNav.css('left', '0') : $headerNav.css('left', '-300px')\r\n    })\r\n\r\n    $('.menuOverlay').on(\"click\", function () {\r\n        $header.hasClass(PAGE_HEADER_ACTIVE) && ($headerNav.css('left', '-300px'), $header.removeClass(PAGE_HEADER_ACTIVE))\r\n    })\r\n\r\n    // 主題活動錨點\r\n    if( $('.activities-page').length > 0 ){\r\n\r\n        // var $body = (window.opera) ? (document.compatMode == \"CSS1Compat\" ? $('html') : $('body')) : $('html,body');\r\n    \r\n        $('.anchorBtn').on('click', function (evt) {\r\n            \r\n            var aid = $(this).data(\"anchor\");\r\n            $body.stop().animate({\r\n                scrollTop: $('#' + aid).offset().top\r\n            },500);\r\n            \r\n        });\r\n    }else{\r\n\r\n        $('.anchorBtn').on('click', function (evt) {\r\n            evt.preventDefault();\r\n            \r\n            var aid = $(this).data(\"anchor\");\r\n            parent.location.href = \"activities.html\" + \"#\" + aid;\r\n            \r\n        });\r\n\r\n    }\r\n\r\n    //是電腦版的話開啟放大鏡\r\n    if(device.desktop()){\r\n        $('img.magnify-image').magnify();\r\n    }\r\n\r\n    windowEvents();\r\n    transitionThenRemove({\r\n        dom: $(\".page-loading\"),\r\n        duration: DURATION.SLOW,\r\n        callback: function () {\r\n            console.log(\"%cBuild Completed!\", logSafeStyle)\r\n        }\r\n    });\r\n}\r\n\r\nfunction scrollto(anchor){\r\n    // var someWhere = $(this).data(\"scrollto\");\r\n    // alert(someWhere)\r\n    // $body.stop().animate({\r\n    //     scrollTop: $('.' + someWhere).offset().top - 62\r\n    // },500);\r\n    $body.stop().animate({\r\n        scrollTop: $('.' + anchor).offset().top - 62\r\n    },500);\r\n}\r\n\r\nfunction windowEvents() {\r\n    $win.on(\"resize\", _resize).resize()\r\n}\r\n\r\nfunction _resize() {\r\n    getSize(), 1024 < winW ? resizePC() : resizeMB()\r\n    // 1360 < winW ? '' : sponsorMB()\r\n    // 800 <= winH ? scrollTopReload() : null\r\n}\r\n\r\nfunction getSize() {\r\n    winW = $win.outerWidth(), winH = $win.outerHeight(), headerTopH = $(\".header-top\").outerHeight(), headerNavH = $(\".header-nav\").outerHeight(), footerH = $(\"footer\").outerHeight()\r\n}\r\n\r\nvar removeNav = function(){\r\n    $header.removeClass(PAGE_HEADER_ACTIVE);\r\n    $headerNav.css('left', '-300px');\r\n}\r\n\r\n// function scrollTopReload() {\r\n//     $('html, body').animate({  \r\n//         scrollTop: 0\r\n//     }, DURATION.FAST); \r\n// }\r\n\r\nfunction resizePC() {\r\n    headerInit(\"flex\")\r\n    $(\".header-nav\").css({\r\n        marginTop: 0\r\n    })\r\n    $(window).off(\"scroll\", removeNav);\r\n\r\n    if( $('.index-page').length > 0 ){\r\n        // 首頁時刻表拖拉\r\n        const slider = document.querySelector('._scrollx');\r\n        let isDown = false;\r\n        let startX;\r\n        let scrollLeft;\r\n    \r\n        slider.addEventListener('mousedown', (e) => {\r\n            isDown = true;\r\n            slider.classList.add('active');\r\n            startX = e.pageX - slider.offsetLeft;\r\n            scrollLeft = slider.scrollLeft;\r\n        });\r\n        slider.addEventListener('mouseleave', () => {\r\n            isDown = false;\r\n            slider.classList.remove('active');\r\n        });\r\n        slider.addEventListener('mouseup', () => {\r\n            isDown = false;\r\n            slider.classList.remove('active');\r\n        });\r\n        slider.addEventListener('mousemove', (e) => {\r\n            if(!isDown) return;\r\n            e.preventDefault();\r\n            const x = e.pageX - slider.offsetLeft;\r\n            const walk = (x - startX) * 3; //scroll-fast\r\n            slider.scrollLeft = scrollLeft - walk;\r\n            // console.log(walk);\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction resizeMB() {\r\n    headerInit(\"block\");\r\n\r\n    $('.indexChannelBlock').on(\"click\", function () {\r\n        $(this).toggleClass('clicked');\r\n        $(this).siblings().removeClass('clicked');\r\n    })\r\n\r\n    $(window).scroll(removeNav)\r\n}\r\n\r\n\r\nfunction sponsorMB(){\r\n    $('._slick').on('init', function () {});\r\n\r\n    $('._slick').slick(options);\r\n}\r\n\r\nfunction headerInit(e) {\r\n    $header.removeClass(PAGE_HEADER_ACTIVE)\r\n    $headerNav.css({\r\n        display: e\r\n    })\r\n}\r\n\r\nlistenImagesLoading($(\"html, body\"));\r\n\r\nvar PAGE_HEADER_ACTIVE = \"menuOpen\",\r\n    $header = void 0,\r\n    $hamburger = void 0,\r\n    $headerNav = void 0,\r\n    isFirstTime = !0,\r\n    sectionPos = void 0,\r\n    footerPos = void 0,\r\n    headerTopH = void 0,\r\n    headerNavH = void 0,\r\n    headerTotalH = void 0,\r\n    footerH = void 0,\r\n    nowPos = void 0;\r\n\r\n\r\n//prevent touch to hover\r\n// function hasTouch() {\r\n//     return 'ontouchstart' in document.documentElement ||\r\n//         navigator.maxTouchPoints > 0 ||\r\n//         navigator.msMaxTouchPoints > 0;\r\n// }\r\n\r\n// if (hasTouch()) { // remove all :hover stylesheets\r\n//     try { // prevent exception on browsers not supporting DOM styleSheets properly\r\n//         for (var si in document.styleSheets) {\r\n//             var styleSheet = document.styleSheets[si];\r\n//             if (!styleSheet.rules) continue;\r\n\r\n//             for (var ri = styleSheet.rules.length - 1; ri >= 0; ri--) {\r\n//                 if (!styleSheet.rules[ri].selectorText) continue;\r\n\r\n//                 if (styleSheet.rules[ri].selectorText.match(':hover')) {\r\n//                     styleSheet.deleteRule(ri);\r\n//                 }\r\n//             }\r\n//         }\r\n//     } catch (ex) {}\r\n// }\r\n//END\r\n\r\n"]}