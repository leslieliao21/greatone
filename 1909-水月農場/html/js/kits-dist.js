"use strict";function listenImagesLoading(target,callback,progress){callback=callback||function(){},progress=progress||function(per,instance){},console.log("%cImages Loading Listening...",logInfoStyle);var IMG_COUNTER=0;target.imagesLoaded({background:!0}).always(function(){console.log("%cImages Loading Completed!",logSafeStyle),callback()}).progress(function(instance){IMG_COUNTER++;var per=Math.floor(IMG_COUNTER/instance.images.length*100);progress(per,instance)})}function transitionThenRemove(opt){function transitionCallback(){dom.remove(),callback&&callback()}var dom=opt.dom,type=opt.type,duration=opt.duration,callback=opt.callback;switch(type){case"slideUp":dom.stop().slideUp(duration,transitionCallback);break;default:dom.stop().fadeOut(duration,transitionCallback)}}function paraObjTypeValidation(para,_this){if(void 0===para)return para={},!0;if("object"!==(void 0===para?"undefined":_typeof(para)))throw new Error(' 參數錯誤: 應為 "物件" 型別!');return!0}function isExist(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);return args.some(function(el){return 0<$(el).length})}function includesLoader(userOpts){var _userOpts$filesRootPa=userOpts.filesRootPath,filesRootPath=void 0===_userOpts$filesRootPa?"./includes/":_userOpts$filesRootPa,_userOpts$filesExtens=userOpts.filesExtension,filesExtension=void 0===_userOpts$filesExtens?".html":_userOpts$filesExtens,loaderCallback=userOpts.callback,includesList=userOpts.includesList;console.log("%cIncludes Loading...",logInfoStyle);var LIST_LEN=includesList.length,counter=0;$.each(includesList,function(idx,includeData){var target=includeData.target,_includeData$rootPath=includeData.rootPath,rootPath=void 0===_includeData$rootPath?filesRootPath:_includeData$rootPath,fileName=includeData.fileName,_includeData$extensio=includeData.extension,extension=void 0===_includeData$extensio?filesExtension:_includeData$extensio,callback=includeData.callback,fullPath=rootPath+fileName+extension;$(target).load(fullPath,function(){counter++,console.log(fileName+" was being loaded ("+counter+"/"+LIST_LEN+")"),callback&&callback(),function(len,counter){len===counter&&(console.log("%cIncludes Loading Completed!",logSafeStyle),listenImagesLoading($doc,loaderCallback))}(LIST_LEN,counter)})})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},$win=$(window),winW=void 0,winH=void 0,$doc=$("html"),$body=$("body"),logSafeStyle="color: \tlimegreen; font-weight: bold;",logInfoStyle="color: yellow;",DURATION={FAST:150,FASTER:200,STD:300,NOR:400,SLOWER:500,SLOW:1e3};!function($){var btn,$lb,announcement=!1;$.lightbox=function(userOpts,callback){announcement=!0,$.fn.lightbox(userOpts,callback)},$.fn.lightbox=function(userOpts,callback){function buildLbWrap(_this,opts){console.log("%cLightbox is Loading",logInfoStyle);var $body=$("body");$body.append(opts.lbTemplate),($lb=$(".lightbox")).attr("id",opts.id),$(".lb-container").on("click",function(evt){evt.stopPropagation()});var $closeBtn=$(".lb-close-btn");switch(opts.closeBtn?$closeBtn.on("click",function(){closeLb(opts)}):$closeBtn.remove(),opts.bodyClickClose&&$body.on("click",function(){closeLb(opts)}),opts.type){case"file":!function(opts){$(".lb-content").load(opts.fullPath,function(){listenImagesLoading($lb,function(){!function(opts){opts.callback(),function(opts){$(".lb-container").stop().animate({opacity:1},{duration:opts.duration,complete:function(){$("body").css({"overflow-y":"hidden"}),console.log("%cLightbox Loading Completed!",logSafeStyle)}}),$(".lb-loading").stop().animate({opacity:0},{duration:opts.duration})}(opts)}(opts)})})}(opts)}$lb.stop().animate({opacity:1},{duration:opts.duration})}function closeLb(opts){if(!isExist(".lightbox"))return!1;$lb.stop().animate({opacity:0},{duration:opts.duration,complete:function(){$(this).remove(),$("body").css({"overflow-y":"visible"}),console.log("%cLightbox Is Closed",logSafeStyle)}})}return $.each(this,function(idx,el){var _this=$(el),_defaultOpts={closeBtn:!0,bodyClickClose:!0,showWhenLanding:!1,duration:200,lbTemplate:'<div class="lightbox"><div class="lb-container"><div class="lb-content"></div><div class="lb-close-btn"></div></div><div class="lb-loading"><svg><path d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"><animateTransform attributeType="xml"attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/></path></svg></div></div>',type:"file",filesRootPath:"./includes/lightbox/",filesDefaultExtension:".html",fileName:"",id:"",fullPath:"",bindEvt:"click",callback:function(){}};if("object"!==(void 0===userOpts?"undefined":_typeof(userOpts))){var temp=userOpts;switch(userOpts={},void 0===temp?"undefined":_typeof(temp)){case"function":userOpts.callback=temp;break;case"string":userOpts.fullPath=temp}}var opts=$.extend(_defaultOpts,userOpts);if(opts.closeBtn||(opts.bodyClickClose=!0),announcement)buildLbWrap(0,opts);else{var btnDataLb=(btn=_this).data("lb");if(opts.fileName){if(!btnDataLb)return console.log("%c未設定檔案名稱",logErrorStyle),!1}else opts.fileName=btnDataLb;""===opts.fullPath&&(opts.fullPath=function(opts){return opts.fullPath?opts.fullPath:opts.filesRootPath+opts.fileName+opts.filesDefaultExtension}(opts)),opts.id||(opts.id=opts.fileName),opts.showWhenLanding?buildLbWrap(0,opts):function(btn,opts){btn.on(opts.bindEvt,function(evt){evt.preventDefault(),evt.stopPropagation(),isExist(".lightbox")?console.log("%c前 lightbox 尚未關閉",logErrorStyle):buildLbWrap(0,opts)}),opts.showWhenLanding&&btn.trigger(opts.bindEvt)}(btn,opts)}}),this}}(jQuery);
//# sourceMappingURL=kits-dist.js.map